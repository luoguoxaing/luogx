(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77a197fe"],{"06c5":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("fb6a"),n("d3b7"),n("b0c0"),n("a630"),n("3ca3");var a=n("6b75");function o(e,t){if(e){if("string"===typeof e)return Object(a["a"])(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(a["a"])(e,t):void 0}}},"16fe":function(e,t,n){"use strict";n("6899")},"179b":function(e,t,n){"use strict";n("f319")},2909:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("6b75");function o(e){if(Array.isArray(e))return Object(a["a"])(e)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function l(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var c=n("06c5");function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e){return o(e)||l(e)||Object(c["a"])(e)||r()}},"3d97":function(e,t,n){"use strict";var a=n("7a23"),o={class:"display-flex"},l={class:"flex-row-2"},c={class:"row-block-preview"},r=Object(a["m"])("p",null,"效果预览",-1),u={style:{width:"100%",height:"450px"}},i={key:0,class:"flex-row-1"},d={key:0,class:"code-edit-textarea"},b={key:1,class:"code-edit-textarea"},f={class:"dialog-footer"},m=Object(a["l"])("预 览"),s=Object(a["l"])("取 消"),p=Object(a["l"])("确 定");function O(e,t,n,O,j,v){var g=Object(a["N"])("el-input"),h=Object(a["N"])("el-form-item"),y=Object(a["N"])("el-col"),C=Object(a["N"])("lgx-svg-icon-select"),V=Object(a["N"])("lgx-select"),w=Object(a["N"])("el-row"),x=Object(a["N"])("el-form"),N=Object(a["N"])("el-tab-pane"),P=Object(a["N"])("el-tabs"),_=Object(a["N"])("lgx-code-edit"),D=Object(a["N"])("el-button"),E=Object(a["N"])("el-dialog");return Object(a["E"])(),Object(a["i"])(E,{title:O.title,modelValue:O.dialogVisible,"onUpdate:modelValue":t[8]||(t[8]=function(e){return O.dialogVisible=e}),width:"80%",top:"35px","custom-class":"lgx-component-add","close-on-click-modal":!1,"before-close":O.handleClose},{footer:Object(a["db"])((function(){return[Object(a["m"])("span",f,[Object(a["m"])(D,{type:"success",onClick:O.previews},{default:Object(a["db"])((function(){return[m]})),_:1},8,["onClick"]),Object(a["m"])(D,{onClick:O.hide},{default:Object(a["db"])((function(){return[s]})),_:1},8,["onClick"]),Object(a["m"])(D,{type:"primary",onClick:O.submit},{default:Object(a["db"])((function(){return[p]})),_:1},8,["onClick"])])]})),default:Object(a["db"])((function(){return[Object(a["m"])("div",o,[Object(a["m"])("div",l,[Object(a["m"])(x,{"label-width":"90px"},{default:Object(a["db"])((function(){return[Object(a["m"])(w,null,{default:Object(a["db"])((function(){return[Object(a["m"])(y,{span:12},{default:Object(a["db"])((function(){return[Object(a["m"])(h,{label:"组件名称"},{default:Object(a["db"])((function(){return[Object(a["m"])(g,{modelValue:O.formData.title,"onUpdate:modelValue":t[1]||(t[1]=function(e){return O.formData.title=e}),clearable:""},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(a["m"])(y,{span:12},{default:Object(a["db"])((function(){return[Object(a["m"])(h,{label:"图标"},{default:Object(a["db"])((function(){return[Object(a["m"])(C,{modelValue:O.formData.icon,"onUpdate:modelValue":t[2]||(t[2]=function(e){return O.formData.icon=e}),placeholder:"选择图标",style:{width:"100%"}},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(a["m"])(y,{span:12},{default:Object(a["db"])((function(){return[Object(a["m"])(h,{label:"模板"},{default:Object(a["db"])((function(){return[Object(a["m"])(V,{size:"small",style:{width:"100%"},options:O.componentTemplate,modelValue:O.formData.el,"onUpdate:modelValue":t[3]||(t[3]=function(e){return O.formData.el=e}),clearable:"",onChange:O.componentTemplateChange},null,8,["options","modelValue","onChange"])]})),_:1})]})),_:1}),Object(a["m"])(y,{span:12},{default:Object(a["db"])((function(){return[Object(a["m"])(h,{label:"配置"},{default:Object(a["db"])((function(){return[Object(a["m"])(g,{modelValue:O.formData.optionEl,"onUpdate:modelValue":t[4]||(t[4]=function(e){return O.formData.optionEl=e}),disabled:"",clearable:""},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(a["m"])("div",c,[r,Object(a["m"])("div",u,[(Object(a["E"])(),Object(a["i"])(Object(a["P"])(O.currentComponent.el),{ref:"settingAppComponentRef",style:{width:"100%",height:"100%"},class:[O.currentComponent.class,"setting-app-component"],component:O.currentComponent,option:O.currentComponent.option,data:O.currentComponent.data},null,8,["class","component","option","data"]))])])]),O.dialogVisible?(Object(a["E"])(),Object(a["i"])("div",i,[Object(a["m"])(P,{modelValue:O.activeName,"onUpdate:modelValue":t[5]||(t[5]=function(e){return O.activeName=e})},{default:Object(a["db"])((function(){return[Object(a["m"])(N,{label:"模板代码",name:"first"}),Object(a["m"])(N,{label:"静态JSON数据",name:"second"})]})),_:1},8,["modelValue"]),"first"===O.activeName?(Object(a["E"])(),Object(a["i"])("div",d,[Object(a["m"])(_,{ref:"lgxCodeEditTemplateRef1",modelValue:O.formData.template,"onUpdate:modelValue":t[6]||(t[6]=function(e){return O.formData.template=e})},null,8,["modelValue"])])):Object(a["j"])("",!0),"second"===O.activeName?(Object(a["E"])(),Object(a["i"])("div",b,[Object(a["m"])(_,{ref:"lgxCodeEditDataRef2",modelValue:O.formData.data,"onUpdate:modelValue":t[7]||(t[7]=function(e){return O.formData.data=e})},null,8,["modelValue"])])):Object(a["j"])("",!0)])):Object(a["j"])("",!0)])]})),_:1},8,["title","modelValue","before-close"])}var j=n("5530"),v=(n("d3b7"),n("e4ac")),g=n("0f37"),h=n("ed08"),y=n("d6ee"),C=n("3fd4"),V=n("fc06"),w=n("2078"),x={components:{lgxCodeEdit:v["a"]},emits:["on-success"],setup:function(e,t){var n=t.emit,o=Object(w["a"])(),l=Object(a["p"])(),c=l.proxy,r=Object(a["J"])("first"),u=Object(a["J"])(!1),i=Object(a["J"])("新增"),d=Object(a["J"])({}),b=Object(a["J"])(g["a"].componentTemplate),f=Object(a["J"])({});function m(e){u.value=!0,e?(i.value="编辑",d.value=e,f.value=Object(j["a"])({},e)):(i.value="新增",d.value={},f.value={}),v()}function s(){u.value=!1}function p(){d.value={},s()}function O(e){d.value.optionEl=Object(h["f"])(e,b.value,"option"),d.value.template||(d.value.template="export = {}"),d.value.data||(d.value.data="{}"),c.$refs.lgxCodeEditTemplateRef1&&c.$refs.lgxCodeEditTemplateRef1.setValue(d.value.template),c.$refs.lgxCodeEditDataRef2&&c.$refs.lgxCodeEditDataRef2.setValue(d.value.data),v()}function v(){try{if(f.value=Object(j["a"])({},d.value),d.value.template){f.value.data=JSON.parse(d.value.data||"{}");var e=Object(V["a"])(d.value.template,f.value.data);f.value.option=e||{}}}catch(t){C["c"].error("代码编译错误，请检查数据格式是否正确，或打开浏览器控制台查看详细报错信息"),console.log(t)}}function x(){if(o.show(),d.value.template){var e=Object(V["a"])(d.value.template,JSON.parse(d.value.data||"{}"));if(e.error)return}Object(y["g"])(d.value).then((function(){s(),C["c"].success("保存成功！"),n("on-success",d.value)})).finally((function(){o.hide()}))}return{show:m,hide:s,title:i,dialogVisible:u,formData:d,componentTemplate:b,componentTemplateChange:O,submit:x,handleClose:p,currentComponent:f,previews:v,activeName:r}}},N=(n("16fe"),n("d959")),P=n.n(N);const _=P()(x,[["render",O]]);t["a"]=_},"4df4":function(e,t,n){"use strict";var a=n("0366"),o=n("7b0b"),l=n("9bdd"),c=n("e95a"),r=n("50c4"),u=n("8418"),i=n("35a1");e.exports=function(e){var t,n,d,b,f,m,s=o(e),p="function"==typeof this?this:Array,O=arguments.length,j=O>1?arguments[1]:void 0,v=void 0!==j,g=i(s),h=0;if(v&&(j=a(j,O>2?arguments[2]:void 0,2)),void 0==g||p==Array&&c(g))for(t=r(s.length),n=new p(t);t>h;h++)m=v?j(s[h],h):s[h],u(n,h,m);else for(b=g.call(s),f=b.next,n=new p;!(d=f.call(b)).done;h++)m=v?l(b,j,[d.value,h],!0):d.value,u(n,h,m);return n.length=h,n}},6899:function(e,t,n){},"6b75":function(e,t,n){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n.d(t,"a",(function(){return a}))},8781:function(e,t,n){"use strict";n.r(t);var a=n("7a23"),o={class:"lgx-component-manage"},l={class:"manage-header"},c=Object(a["l"])("新增组件");function r(e,t,n,r,u,i){var d=Object(a["N"])("el-input"),b=Object(a["N"])("el-form-item"),f=Object(a["N"])("lgx-select"),m=Object(a["N"])("el-button"),s=Object(a["N"])("el-form"),p=Object(a["N"])("lgx-table"),O=Object(a["N"])("component-add");return Object(a["E"])(),Object(a["i"])("div",o,[Object(a["m"])("div",l,[Object(a["m"])(s,{inline:""},{default:Object(a["db"])((function(){return[Object(a["m"])(b,{label:"组件名称："},{default:Object(a["db"])((function(){return[Object(a["m"])(d,{modelValue:r.pageParams.queryParam.title,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.pageParams.queryParam.title=e}),clearable:"",placeholder:"输入完成后按回车搜索",onChange:r.getPageList,onClear:r.getPageList},null,8,["modelValue","onChange","onClear"])]})),_:1}),Object(a["m"])(b,{label:"模板类型："},{default:Object(a["db"])((function(){return[Object(a["m"])(f,{modelValue:r.pageParams.queryParam.el,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.pageParams.queryParam.el=e}),options:r.enums.componentTemplate,clearable:"",size:"small",onChange:r.getPageList},null,8,["modelValue","options","onChange"])]})),_:1}),Object(a["m"])(b,null,{default:Object(a["db"])((function(){return[Object(a["m"])(m,{type:"primary",onClick:r.componentAdd},{default:Object(a["db"])((function(){return[c]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]),Object(a["m"])(p,{border:"",data:r.tableData,tableColumn:r.tableColumn,total:r.tableTotal,pageParams:r.pageParams,onPageChange:r.getPageList},null,8,["data","tableColumn","total","pageParams","onPageChange"]),Object(a["m"])(O,{ref:"componentAddRef",onOnSuccess:r.getPageList},null,8,["onOnSuccess"])])}var u=n("2909"),i=(n("99af"),n("9d91")),d=n("d6ee"),b=n("3d97"),f=n("3fd4"),m=n("ed08"),s=n("0f37"),p={components:{componentAdd:b["a"]},setup:function(){var e=Object(a["p"])(),t=e.proxy,n=Object(a["J"])([]);n.value=[].concat(Object(u["a"])(Object(i["a"])()),[{label:"操作",prop:"handle",render:function(e,n){return e("div",[e(f["a"],{type:"primary",onClick:function(){t.$refs.componentAddRef.show(Object(m["d"])(n.row))}},(function(){return"编辑"})),e(f["a"],{type:"danger",onClick:function(){p(n.row.id)}},(function(){return"删除"}))])}}]);var o=Object(a["J"])([]),l=Object(a["J"])(0),c=Object(a["I"])({page:1,size:10,queryParam:{title:"",el:""},orderParam:"create_time",orderType:"DESC"});function r(){Object(d["b"])(c).then((function(e){o.value=e.data.records,l.value=e.data.total}))}function b(){t.$refs.componentAddRef.show()}function p(e){f["d"].confirm("该组件即将删除. 继续?","警告⚠",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){Object(d["a"])(e).then((function(e){console.log(e),r()}))}))}return r(),{tableColumn:n,tableData:o,tableTotal:l,pageParams:c,getPageList:r,componentAdd:b,enums:s["a"]}}},O=(n("179b"),n("d959")),j=n.n(O);const v=j()(p,[["render",r]]);t["default"]=v},"9bdd":function(e,t,n){var a=n("825a"),o=n("2a62");e.exports=function(e,t,n,l){try{return l?t(a(n)[0],n[1]):t(n)}catch(c){throw o(e),c}}},"9d91":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("ed08"),o=n("0f37");n("d783");function l(){return[{label:"组件名称",prop:"title"},{label:"组件模板",prop:"el",render:function(e,t){return e("div",Object(a["f"])(t.row.el,o["a"].componentTemplate))}},{label:"配置模板",prop:"optionEl"},{label:"数据",prop:"data",render:function(e,t){return e("div",{class:"component-table-render-cell"},t.row.data)}},{label:"模板",prop:"template",render:function(e,t){return e("div",{class:"component-table-render-cell"},t.row.template)}}]}},a630:function(e,t,n){var a=n("23e7"),o=n("4df4"),l=n("1c7e"),c=!l((function(e){Array.from(e)}));a({target:"Array",stat:!0,forced:c},{from:o})},d783:function(e,t,n){},f319:function(e,t,n){}}]);