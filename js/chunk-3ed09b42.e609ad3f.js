(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ed09b42"],{"0ae3":function(e,t,n){"use strict";n.r(t);n("a4d3"),n("e01a");var c=n("7a23"),i={class:"lgx-screen-list"},a=Object(c["m"])("div",{class:"screen-header"},[Object(c["m"])("div",{class:"screen-title"},"政务云事业部 - 数据可视化大屏设计器")],-1),l={class:"screen-container"},o={class:"container-screen-page"},r={class:"container-screen-centent"},s=Object(c["m"])("div",null,[Object(c["m"])("i",{class:"el-icon-plus",style:{"font-size":"30px"}}),Object(c["m"])("div",null,"新建")],-1),u={key:0,class:"screen-item-background-img"},d={class:"screen-item-action-container"},b=Object(c["m"])("i",{class:"el-icon-close"},null,-1),m=Object(c["m"])("i",{class:"el-icon-edit"},null,-1),j=Object(c["m"])("i",{class:"el-icon-view"},null,-1),O={class:"screen-flex-item"},f={class:"screen-item-detail"};function p(e,t,n,p,g,v){var h=Object(c["N"])("el-pagination"),w=Object(c["N"])("svg-icon"),C=Object(c["N"])("screen-add");return Object(c["E"])(),Object(c["i"])("div",i,[a,Object(c["m"])("div",l,[Object(c["m"])("div",o,[Object(c["m"])(h,{onSizeChange:p.pageSizeChange,onCurrentChange:p.pageCurrentChange,"page-sizes":[20,30,40],"page-size":20,layout:"total, prev, pager, next, sizes",total:p.screenListTotal},null,8,["onSizeChange","onCurrentChange","total"])]),Object(c["m"])("div",r,[Object(c["m"])("div",{class:"container-screen-item",style:{display:"flex","align-items":"center","justify-content":"center"},onClick:t[1]||(t[1]=function(){return p.addScreenItem&&p.addScreenItem.apply(p,arguments)})},[s]),(Object(c["E"])(!0),Object(c["i"])(c["b"],null,Object(c["L"])(p.screenList,(function(e,t){return Object(c["E"])(),Object(c["i"])("div",{class:"container-screen-item",key:t,onClick:function(t){return p.gotoDesign(e)}},[e.backgroundImg?(Object(c["E"])(),Object(c["i"])("div",u,[Object(c["m"])("img",{src:p.getImgUrl(e.backgroundImg),alt:""},null,8,["src"])])):Object(c["j"])("",!0),Object(c["m"])("div",d,[Object(c["m"])("div",{class:"screen-item-action screen-item-delete",title:"删除",onClick:Object(c["gb"])((function(t){return p.deleteScreenItem(e)}),["stop"])},[b],8,["onClick"]),Object(c["m"])("div",{class:"screen-item-action screen-item-edit",title:"编辑",onClick:Object(c["gb"])((function(t){return p.editScreenItem(e)}),["stop"])},[m],8,["onClick"]),Object(c["m"])("div",{class:"screen-item-action screen-item-view",title:"预览",onClick:Object(c["gb"])((function(t){return p.viewScreenItem(e)}),["stop"])},[j],8,["onClick"])]),Object(c["m"])("div",O,[Object(c["m"])("div",{class:"screen-item-title",title:e.title},[Object(c["m"])(w,{name:e.icon,size:20},null,8,["name"]),Object(c["l"])(" "+Object(c["S"])(e.title),1)],8,["title"]),Object(c["m"])("div",f,Object(c["S"])(e.description),1)])],8,["onClick"])})),128))])]),Object(c["m"])(C,{ref:"screenAddRef",onSaveSuccess:p.getPageList},null,8,["onSaveSuccess"])])}n("d3b7");var g=n("1e55"),v=n("e058"),h=n("2078"),w=Object(c["J"])(),C=Object(c["J"])(0),k=Object(h["a"])();function S(e){var t=Object(v["a"])({on:[{text:"确定删除",click:function(){Object(g["a"])(e).then((function(e){D()}))}},{text:"取消",click:function(){}}]});t.show()}var y={page:1,size:10,orderParam:"create_time",orderType:"DESC"};function I(e){y.size=e,D()}function z(e){y.page=e,D()}function D(){return k.show(),new Promise((function(e,t){Object(g["b"])(y).then((function(t){e(t),k.hide(),w.value=t.data.records,C.value=t.data.total})).catch((function(e){t(e)})).finally((function(){}))}))}var V={class:"app-dialog-body"},x=Object(c["l"])("保存"),N=Object(c["l"])("关闭");function U(e,t,n,i,a,l){var o=Object(c["N"])("el-input"),r=Object(c["N"])("el-form-item"),s=Object(c["N"])("lgx-svg-icon-select"),u=Object(c["N"])("el-form"),d=Object(c["N"])("el-button"),b=Object(c["N"])("app-dialog");return Object(c["E"])(),Object(c["i"])(b,{title:"新建大屏",ref:"appDialogRef",class:"app-dialog",resize:!0,modelValue:i.showState,"onUpdate:modelValue":t[4]||(t[4]=function(e){return i.showState=e}),onOnHide:i.hide},{footer:Object(c["db"])((function(){return[Object(c["m"])(d,{onClick:i.submit},{default:Object(c["db"])((function(){return[x]})),_:1},8,["onClick"]),Object(c["m"])(d,{onClick:i.hide},{default:Object(c["db"])((function(){return[N]})),_:1},8,["onClick"])]})),default:Object(c["db"])((function(){return[Object(c["m"])("div",V,[Object(c["m"])(u,{"label-width":"100px"},{default:Object(c["db"])((function(){return[Object(c["m"])(r,{label:"标题"},{default:Object(c["db"])((function(){return[Object(c["m"])(o,{modelValue:i.formData.title,"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.formData.title=e}),class:"dialog-input",placeholder:"标题名称"},null,8,["modelValue"])]})),_:1}),Object(c["m"])(r,{label:"图标"},{default:Object(c["db"])((function(){return[Object(c["m"])(s,{modelValue:i.formData.icon,"onUpdate:modelValue":t[2]||(t[2]=function(e){return i.formData.icon=e}),class:"dialog-input",placeholder:"选择图标"},null,8,["modelValue"])]})),_:1}),Object(c["m"])(r,{label:"描述"},{default:Object(c["db"])((function(){return[Object(c["m"])(o,{class:"dialog-input",type:"textarea",rows:2,modelValue:i.formData.description,"onUpdate:modelValue":t[3]||(t[3]=function(e){return i.formData.description=e})},null,8,["modelValue"])]})),_:1})]})),_:1})])]})),_:1},8,["modelValue","onOnHide"])}var _=n("b67c"),L={components:{appDialog:_["a"]},emits:["save-success"],setup:function(e,t){var n=t.emit,i=Object(c["J"])(!1),a=Object(c["J"])(l());function l(){return{title:"",icon:"",description:""}}function o(e){e&&(a.value=e),i.value=!0}function r(){a.value=l(),i.value=!1}function s(){Object(g["d"])(a.value).then((function(e){n("save-success",e),r()}))}return{show:o,hide:r,submit:s,showState:i,formData:a}}},E=(n("fda9"),n("d959")),J=n.n(E);const P=J()(L,[["render",U]]);var A=P,R=n("6c02"),T=n("ed08"),H=n("5502"),$={components:{screenAdd:A},setup:function(){var e=Object(c["p"])(),t=e.proxy,n=Object(R["d"])(),i=Object(H["b"])(),a=Object(c["g"])((function(){return i.getters.serverUrl}));function l(){t.$refs.screenAddRef.show()}function o(e){t.$refs.screenAddRef.show(Object(T["d"])(e))}function r(e){window.open(window.location.origin+"/#/previews/"+e.id)}function s(e){n.push({name:"screen-design",params:{id:e.id}})}return D(),{screenList:w,screenListTotal:C,pageParams:y,gotoDesign:s,deleteScreenItem:S,editScreenItem:o,viewScreenItem:r,getPageList:D,addScreenItem:l,pageSizeChange:I,pageCurrentChange:z,serverUrl:a,getImgUrl:T["h"]}}};const q=J()($,[["render",p]]);t["default"]=q},"2c87":function(e,t,n){},fda9:function(e,t,n){"use strict";n("2c87")}}]);